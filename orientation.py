#!/usr/bin/env python3
from fractions import Fraction


def sign(x):
    """Determine the sign of x.

    Returns:
        +1 if x is positive, -1 if x is negative or 0 if x is zero.
    """
    return (x > 0) - (x < 0)


def orientation(p, q, r):
    """Determine orientaion of three points in the plane.

    Args:
        p, q, r: Two-element tuples representing coordinate pairs of the points.

    Returns:
        -1 if p, q, r is a turn to the right, +1 if p, q, r is a turn to the left,
        otherwise 0, if p, q and r are collinear.
    """
    p = (Fraction(p[0]), Fraction(p[1]))
    q = (Fraction(q[0]), Fraction(q[1]))
    r = (Fraction(r[0]), Fraction(r[1]))
    d = (q[0] - p[0]) * (r[1] - p[1]) - (q[1] - p[1]) * (r[0] - p[0])
    return sign(d)


def main():
    px = 0.5

    pys = [
        0.49999999999999,
        0.49999999999999006,
        0.4999999999999997,
        0.4999999999999998,
        0.49999999999999983,
        0.4999999999999999,
        0.49999999999999994,
        0.5,
        0.5000000000000001,
        0.5000000000000002,
        0.5000000000000003,
        0.5000000000000004,
        0.5000000000000005,
        0.5000000000000006,
        0.5000000000000007,
        0.5000000000000008,
        0.5000000000000009,
        0.500000000000001,
        0.500000000000007,
        0.5000000000000071,
        0.5000000000000072,
        0.5000000000000073,
        0.5000000000000074,
        0.5000000000000075,
        0.5000000000000076,
        0.5000000000000077,
        0.5000000000000078,
        0.5000000000000079,
        0.500000000000008,
        0.5000000000000081,
        0.5000000000000082,
        0.5000000000000083,
        0.5000000000000084,
        0.5000000000000085,
        0.5000000000000086,
        0.5000000000000087,
        0.5000000000000088,
        0.5000000000000089,
        0.500000000000009,
        0.5000000000000091,
        0.5000000000000092,
        0.5000000000000093,
        0.5000000000000094,
        0.5000000000000095,
        0.5000000000000096,
        0.5000000000000097,
        0.5000000000000098,
        0.5000000000000099,
        0.50000000000001,
    ]

    q = (12.0, 12.0)
    r = (24.0, 24.0)

    for py in pys:
        p = (px, py)
        o = orientation(p,q,r)
        print(f"orientation(({p[0]:>3}, {p[1]:<19}), q, r) -> {o:>2}")


if __name__ == "__main__":
    main()
